
start:
  *:
   c0.ids: "[]"

code:
  main:
    c0.ids : p.ids
  func code:
    p._valid : p.ids.size < 3
    c0.ids : p.ids
    c1.ids : p.ids + [ c0.def ]

func:
  $ identifier $ $ body $ $:
    c1.ids : p.ids
    c4.ids : p.ids
    p.def : c1.def   

main:
  $ $ body $ $: 
    c2.ids : p.ids
  
identifier:
  *:
    p._valid : not p.ids.include? p.def
    p.def : c0._text

body:
  *:
    c0.ids : p.ids
  body line $:
    c1.ids : p.ids

line:
  $ $:
    p._valid: p.ids.include? c0._text
  if-statement: 
    c0.ids: p.ids
 
if-statement:
  $ $ line $ $ $ line $ $:
    c2.ids : p.ids
    c6.ids : p.ids   
  

